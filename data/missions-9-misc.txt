
# Copyright (c) 2026 by ChemtrailOperator and Living_Adblocker
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.
# This file was written in Notepad++ with the EndlessSkyDark UDL. Available on the wiki for this plugin.


#-------------------------------------------------------------------archon missions----------------------------------------------------------------------- \open

# X9.1 (NPC Mission for Watcher Guards) \open
mission "Wormholes X9.1 Watcher Guards"
	invisible
	landing
	repeat
	to offer
		not "Wormholes X9.1 Watcher Guards: active"
# Backwards compatibility patch for previous mission name
		not "Watcher Guards: active"
	to complete
		never
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 1"
		ship "Archon" "Ulnak's Folly"
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 2"
		ship "Archon B" "Blade of Babylon"
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 3"
		ship "Archon C" "Rains of Ten Pole Cur"
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 4"
		ship "Archon" "Heupenitili's Misfortune"
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 5"
		ship "Archon B" "Spear of Ararat"
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 6"
		ship "Archon C" "Knife of Argus"
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 7"
		ship "Archon" "Shield of Atlantis"
	npc save
		government Drak
		personality heroic vindictive staying frugal forbearing
		system "Watcher 8"
		ship "Archon B" "Thunder of Ares"

# 9.1.1 \fold
mission "Wormholes 9.1.1"
	invisible
	landing
	source Mons
	to offer
		has "event: all wormholes revealed"
	to accept
		has "event: all wormholes revealed"
	to complete
		never
	on enter
		system
			neighbor system Olympus
		dialog "This system is empty, with all disturbances calmed eons ago. Out in the darkness, an archon patrols deep space."
		set "visited the watchers"
	
# 9.1.2 \fold
mission "Wormholes 9.1.2"
	landing
	source Mons
	to offer
		has "visited the watchers"
		"not interested in the watchers" < 3
	on offer
		conversation
			`Do you want to find someone to ask about the archons surrounding this system?`
			choice
				`	(Sure.)`
					goto food
				`	(Not Interested.)`
					defer
			label food
			`	You figure the best place to find someone who can spare some time is the food court.`
			`	Inside the normal packed bustle, you find a man from the Remnant who looks like he is bored.`
			choice
				`	(Approach him.)`
				`	(Forget it.)`
					decline
			`	The Remnant has the word 'Emkapi' on his nameplate. He looks up as you approach. "Greetings, Captain, may I help you?"`
			`	"Oh, I just have a question about this place. Why is it so heavily fortified?"`
			`	He pauses for a moment. "Forgive me, I am rather new here, like yourself. As far as I can tell, They built the defenses in and around this system to ensure that the purpose it serves can never be altered. If one faction gained control or even figured out how to access the wormholes, they could deal monumental damage to their enemies, for the wormhole engines can be used as weapons to obliterate planets and stars. If the Pug and Quarg brought their power struggle here, They would have no choice but to destroy all invading ships. The eight systems surrounding us serve as the frontlines for the Archons to use, but if an invasion fleet somehow made it past them, there is more here, that will awaken from their sleep to defend this precious ringworld."`
			choice
				`	"All that to prevent the Quarg from attacking?"`
					goto quarg
				`	"What if an invasion did make it here?"`
					goto loss
			label quarg
			`	The Remnant makes a facial expression that might be sarcastic for them. "To be honest, I doubt that is the only reason. I do not know where this galaxy is located, or what forces could threaten it. Perhaps there are other races? The Pug are stronger than they seem? I do not know.`
			set "heard about powerful forces"
			choice
				`	"What if an invasion did make it here?"`
					to display
						not "heard about the final defense"
					goto loss
				`	"Thanks for telling me that, I'm <first> by the way."`
					goto end
			label loss
			`	"We were told that that could never happen, but I suspect that if an indescribably powerful force penetrated the blockade, the Archons' last action would be to fire on the wormhole engines. There is also probably safety measures in place to ensure the more important technologies never fall into the wrong hands. Our lives are nothing compared to the safety of the people we represent, you see."`
			set "heard about the final defense"
			choice
				`	"All that to prevent the Quarg from attacking?"`
					to display
						not "heard about powerful forces"
					goto quarg
				`	"Thanks for telling me that, I'm <first> by the way."`
					goto end
			label end
			`	The Remnant stands to leave. "I am glad to be of assistance, as you can see, my name is Emkapi."`
				decline
	on defer
		"not interested in the watchers" ++
#\close
#-------------------------------------------------------------------archon missions----------------------------------------------------------------------- \close

